<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Completer][1]
    -   [destroy][2]
    -   [registerStrategy][3]
    -   [run][4]
-   [DropdownItemOptions][5]
-   [DropdownItem][6]
    -   [destroy][7]
    -   [appended][8]
    -   [activate][9]
    -   [next][10]
    -   [prev][11]
-   [DropdownOptions][12]
-   [Dropdown][13]
    -   [destroy][14]
    -   [render][15]
    -   [deactivate][16]
    -   [select][17]
    -   [up][18]
    -   [down][19]
    -   [getActiveItem][20]
-   [CursorOffset][21]
-   [Editor][22]
    -   [destroy][23]
    -   [applySearchResult][24]
    -   [getCursorOffset][25]
    -   [getBeforeCursor][26]
    -   [emitMoveEvent][27]
    -   [emitEnterEvent][28]
    -   [emitChangeEvent][29]
    -   [emitEscEvent][30]
    -   [getCode][31]
-   [Query][32]
    -   [execute][33]
    -   [build][34]
-   [SearchResult][35]
-   [StrategyProperties][36]
-   [Strategy][37]
    -   [destroy][38]
    -   [replace][39]
-   [Textarea][40]
    -   [destroy][41]
    -   [applySearchResult][42]
    -   [getCursorOffset][43]
    -   [getBeforeCursor][44]
-   [TextcompleteOptions][45]
-   [Textcomplete][46]
    -   [destroy][47]
    -   [hide][48]
    -   [register][49]
    -   [trigger][50]
-   [TinyMCE][51]
    -   [destroy][52]
    -   [applySearchResult][53]
    -   [getCursorOffset][54]
    -   [getBeforeCursor][55]

## Completer

**Extends EventEmitter**

Complete engine.

### destroy

Returns **this** 

### registerStrategy

Register a strategy to the completer.

**Parameters**

-   `strategy` **[Strategy][56]** 

Returns **this** 

### run

**Parameters**

-   `text` **[string][57]** Head to input cursor.

Returns **void** 

## DropdownItemOptions

Type: {className: [string][57]?}

**Properties**

-   `className` **[string][57]?** 

## DropdownItem

Encapsulate an item of dropdown.

**Parameters**

-   `searchResult` **[SearchResult][58]** 
-   `options` **[DropdownItemOptions][59]** 

### destroy

Try to free resources and perform other cleanup operations.

### appended

-   **See: Dropdown#append**

Callbacked when it is appended to a dropdown.

**Parameters**

-   `dropdown` **[Dropdown][60]** 

### activate

Deactivate active item then activate itself.

Returns **this** 

### next

Get the next sibling.

Returns **[DropdownItem][61]?** 

### prev

Get the previous sibling.

Returns **[DropdownItem][61]?** 

## DropdownOptions

Type: {className: [string][57]?, footer: function (any): ([string][57] \| [string][57])?, header: function (any): ([string][57] \| [string][57])?, maxCount: [number][62]?, placement: [string][57]?, rotate: [boolean][63]?, style: {}?, item: [DropdownItemOptions][59]?}

**Properties**

-   `className` **[string][57]?** 
-   `footer` **function (any): ([string][57] \| [string][57])?** 
-   `header` **function (any): ([string][57] \| [string][57])?** 
-   `maxCount` **[number][62]?** 
-   `placement` **[string][57]?** 
-   `rotate` **[boolean][63]?** 
-   `style` **{}?** 
-   `item` **[DropdownItemOptions][59]?** 

## Dropdown

**Extends EventEmitter**

Encapsulate a dropdown view.

**Parameters**

-   `options` **[DropdownOptions][64]** 

**Properties**

-   `shown` **[boolean][63]** Whether the #el is shown or not.
-   `items` **[Array][65]&lt;[DropdownItem][61]>** The array of rendered dropdown items.

### destroy

Returns **this** 

### render

Render the given data as dropdown items.

**Parameters**

-   `searchResults` **[Array][65]&lt;[SearchResult][58]>** 
-   `cursorOffset` **[CursorOffset][66]** 

Returns **this** 

### deactivate

Hide the dropdown then sweep out items.

Returns **this** 

### select

**Parameters**

-   `dropdownItem` **[DropdownItem][61]** 

Returns **this** 

### up

**Parameters**

-   `e` **[CustomEvent][67]** 

Returns **this** 

### down

**Parameters**

-   `e` **[CustomEvent][67]** 

Returns **this** 

### getActiveItem

Retrieve the active item.

Returns **([DropdownItem][61] | null)** 

## CursorOffset

Type: {lineHeight: [number][62], top: [number][62], left: [number][62]?, right: [number][62]?}

**Properties**

-   `lineHeight` **[number][62]** 
-   `top` **[number][62]** 
-   `left` **[number][62]?** 
-   `right` **[number][62]?** 

## Editor

**Extends EventEmitter**

Abstract class representing a editor target.

Editor classes must implement `#applySearchResult`, `#getCursorOffset` and
`#getBeforeCursor` methods.

Editor classes must invoke `#emitMoveEvent`, `#emitEnterEvent`,
`#emitChangeEvent` and `#emitEscEvent` at proper timing.

### destroy

It is called when associated textcomplete object is destroyed.

Returns **this** 

### applySearchResult

It is called when a search result is selected by a user.

**Parameters**

-   `_` **[SearchResult][58]** 

Returns **void** 

### getCursorOffset

The input cursor's absolute coordinates from the window's left
top corner.

Returns **[CursorOffset][66]** 

### getBeforeCursor

Editor string value from head to cursor.
Returns null if selection type is range not cursor.

Returns **[string][57]?** 

### emitMoveEvent

-   **See: [Textarea][40] for live example.**

Emit a move event, which moves active dropdown element.
Child class must call this method at proper timing with proper parameter.

**Parameters**

-   `code` **(`"UP"` \| `"DOWN"`)** 

Returns **[CustomEvent][67]** 

### emitEnterEvent

-   **See: [Textarea][40] for live example.**

Emit a enter event, which selects current search result.
Child class must call this method at proper timing.

Returns **[CustomEvent][67]** 

### emitChangeEvent

-   **See: [Textarea][40] for live example.**

Emit a change event, which triggers auto completion.
Child class must call this method at proper timing.

Returns **[CustomEvent][67]** 

### emitEscEvent

-   **See: [Textarea][40] for live example.**

Emit a esc event, which hides dropdown element.
Child class must call this method at proper timing.

Returns **[CustomEvent][67]** 

### getCode

-   **See: [Textarea][40] for live example.**

Helper method for parsing KeyboardEvent.

**Parameters**

-   `e` **[KeyboardEvent][68]** 

Returns **KeyCode** 

## Query

Encapsulate matching condition between a Strategy and current editor's value.

**Parameters**

-   `strategy` **[Strategy][56]** 
-   `term` **[string][57]** 
-   `match` **MatchData** 

### execute

Invoke search strategy and callback the given function.

**Parameters**

-   `callback` **function ([Array][65]&lt;[SearchResult][58]>): void** 

### build

Build a Query object by the given string if this matches to the string.

**Parameters**

-   `strategy` **[Strategy][56]** 
-   `text` **[string][57]** Head to input cursor.

Returns **[Query][69]?** 

## SearchResult

Encapsulate an result of each search results.

**Parameters**

-   `data` **[object][70]** An element of array callbacked by search function.
-   `term` **[string][57]** 
-   `strategy` **[Strategy][56]** 

## StrategyProperties

Properties for a strategy.

Type: {match: ([RegExp][71] | function ([string][57]): (MatchData | null)), search: [Function][72], replace: function (any): ([Array][65]&lt;[string][57]> | [string][57] | null), cache: [boolean][63]?, context: [Function][72]?, template: function (any): [string][57]?, index: [number][62]?, id: [string][57]?}

**Properties**

-   `match` **([RegExp][71] | function ([string][57]): (MatchData | null))** 
-   `search` **[Function][72]** 
-   `replace` **function (any): ([Array][65]&lt;[string][57]> | [string][57] | null)** 
-   `cache` **[boolean][63]?** 
-   `context` **[Function][72]?** 
-   `template` **function (any): [string][57]?** 
-   `index` **[number][62]?** 
-   `id` **[string][57]?** 

## Strategy

Encapsulate a single strategy.

**Parameters**

-   `props` **[StrategyProperties][73]** 

### destroy

Returns **this** 

### replace

**Parameters**

-   `data` **[object][70]** An element of array callbacked by search function.

## Textarea

**Extends Editor**

Encapsulate the target textarea element.

**Parameters**

-   `el` **[HTMLTextAreaElement][74]** Where the textcomplete works on.

### destroy

Returns **this** 

### applySearchResult

Implementation for [Editor#applySearchResult][75]

**Parameters**

-   `searchResult` **[SearchResult][58]** 

### getCursorOffset

Implementation for [Editor#getCursorOffset][76]

### getBeforeCursor

Implementation for [Editor#getBeforeCursor][77]

## TextcompleteOptions

Type: {dropdown: [DropdownOptions][64]?}

**Properties**

-   `dropdown` **[DropdownOptions][64]?** 

## Textcomplete

**Extends EventEmitter**

The core of textcomplete. It acts as a mediator.

**Parameters**

-   `editor` **[Editor][78]** Where the textcomplete works on.
-   `options` **[TextcompleteOptions][79]**  (optional, default `{}`)

### destroy

**Parameters**

-   `destroyEditor` **[boolean][63]**  (optional, default `true`)

Returns **this** 

### hide

Returns **this** 

### register

**Parameters**

-   `strategyPropsArray` **[Array][65]&lt;[StrategyProperties][73]>** 

**Examples**

```javascript
textcomplete.register([{
  match: /(^|\s)(\w+)$/,
  search: function (term, callback) {
    $.ajax({ ... })
      .done(callback)
      .fail([]);
  },
  replace: function (value) {
    return '$1' + value + ' ';
  }
}]);
```

Returns **this** 

### trigger

Start autocompleting.

**Parameters**

-   `text` **[string][57]** Head to input cursor.

Returns **this** 

## TinyMCE

**Extends Editor**

Encapsulate the target textarea element.

**Parameters**

-   `el` **[HTMLTextAreaElement][74]** Where the textcomplete works on.

### destroy

Returns **this** 

### applySearchResult

Implementation for [Editor#applySearchResult][75]

**Parameters**

-   `searchResult` **[SearchResult][58]** 

### getCursorOffset

Implementation for [Editor#getCursorOffset][76]

### getBeforeCursor

Implementation for [Editor#getBeforeCursor][77]

[1]: #completer

[2]: #destroy

[3]: #registerstrategy

[4]: #run

[5]: #dropdownitemoptions

[6]: #dropdownitem

[7]: #destroy-1

[8]: #appended

[9]: #activate

[10]: #next

[11]: #prev

[12]: #dropdownoptions

[13]: #dropdown

[14]: #destroy-2

[15]: #render

[16]: #deactivate

[17]: #select

[18]: #up

[19]: #down

[20]: #getactiveitem

[21]: #cursoroffset

[22]: #editor

[23]: #destroy-3

[24]: #applysearchresult

[25]: #getcursoroffset

[26]: #getbeforecursor

[27]: #emitmoveevent

[28]: #emitenterevent

[29]: #emitchangeevent

[30]: #emitescevent

[31]: #getcode

[32]: #query

[33]: #execute

[34]: #build

[35]: #searchresult

[36]: #strategyproperties

[37]: #strategy

[38]: #destroy-4

[39]: #replace

[40]: #textarea

[41]: #destroy-5

[42]: #applysearchresult-1

[43]: #getcursoroffset-1

[44]: #getbeforecursor-1

[45]: #textcompleteoptions

[46]: #textcomplete

[47]: #destroy-6

[48]: #hide

[49]: #register

[50]: #trigger

[51]: #tinymce

[52]: #destroy-7

[53]: #applysearchresult-2

[54]: #getcursoroffset-2

[55]: #getbeforecursor-2

[56]: #strategy

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[58]: #searchresult

[59]: #dropdownitemoptions

[60]: #dropdown

[61]: #dropdownitem

[62]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[63]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[64]: #dropdownoptions

[65]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[66]: #cursoroffset

[67]: https://developer.mozilla.org/docs/Web/API/CustomEvent/CustomEvent

[68]: https://developer.mozilla.org/docs/Web/API/KeyboardEvent

[69]: #query

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[71]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/RegExp

[72]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[73]: #strategyproperties

[74]: https://developer.mozilla.org/docs/Web/API/HTMLTextAreaElement

[75]: #editorapplysearchresult

[76]: #editorgetcursoroffset

[77]: #editorgetbeforecursor

[78]: #editor

[79]: #textcompleteoptions
